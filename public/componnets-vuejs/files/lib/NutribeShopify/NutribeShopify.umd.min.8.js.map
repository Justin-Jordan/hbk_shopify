{"version":3,"sources":["webpack://NutribeShopify/./src/components/App/NutribeShopify/PageProduit.vue?56fa","webpack://NutribeShopify/src/components/App/NutribeShopify/PageProduit.vue","webpack://NutribeShopify/./src/components/App/NutribeShopify/PageProduit.vue?b541","webpack://NutribeShopify/./src/components/App/NutribeShopify/PageProduit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","table_id","formated_id_modal","scopedSlots","_u","key","fn","staticClass","domProps","_s","modal_title","proxy","_e","template_modalbody","directives","name","rawName","value","modal_loading","expression","tag","product","staticRenderFns","window","jQuery","$","moment","props","components","data","products","datatable","id_modal","modal_action","mounted","GetProducts","watch","computed","get","productId","id","methods","configs","open_modal","self","title","modal","on","off","action","buildTable","rows","destroy","empty","DataTable","order","columns","language","url","table","addClass","component"],"mappings":"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","file":"NutribeShopify.umd.min.8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{attrs:{\"id\":_vm.table_id}}),_c('modal-slot',{attrs:{\"id_modal\":_vm.formated_id_modal,\"show_footer\":true,\"modal_position\":''},scopedSlots:_vm._u([{key:\"modal_header\",fn:function(){return [_c('h5',{staticClass:\"modal-title\",domProps:{\"innerHTML\":_vm._s(_vm.modal_title)}})]},proxy:true}])},[(_vm.modal_loading)?_c('div',{staticClass:\"d-flex justify-content-center p-5\"},[_c('h2',[_c('i',{staticClass:\"fas fa-sync fa-spin text-warning\"})])]):_vm._e(),_c(_vm.template_modalbody,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.modal_loading),expression:\"!modal_loading\"}],tag:\"component\",attrs:{\"entity\":_vm.product,\"type-entity\":\"product\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div>\n    <table :id=\"table_id\"></table>\n    <modal-slot\n      :id_modal=\"formated_id_modal\"\n      :show_footer=\"true\"\n      :modal_position=\"''\"\n    >\n      <template v-slot:modal_header>\n        <h5 v-html=\"modal_title\" class=\"modal-title\"></h5>\n      </template>\n      <div class=\"d-flex justify-content-center p-5\" v-if=\"modal_loading\">\n        <h2><i class=\"fas fa-sync fa-spin text-warning\"> </i></h2>\n      </div>\n      <component\n        v-show=\"!modal_loading\"\n        v-bind:is=\"template_modalbody\"\n        :entity=\"product\"\n        type-entity=\"product\"\n      ></component>\n    </modal-slot>\n  </div>\n</template>\n\n<script>\n/**\n * Jquery doit etre definie (simulation);\n */\nif (window.jQuery) {\n  var $ = window.jQuery;\n}\n/**\n * moment simulation\n */\nif (window.moment) {\n  var moment = window.moment;\n}\nimport configs from \"./configs.js\";\n\nexport default {\n  name: \"PageProduit\",\n  props: {\n    //\n  },\n  components: {\n    \"modal-slot\": () => import(\"../../Modals/ModalSlot.vue\")\n  },\n  data() {\n    return {\n      products: [],\n      product: {},\n      datatable: {},\n      /**\n       * Modal\n       */\n      id_modal: \"action-blog\",\n      modal_title: \"\",\n      modal_action: \"\",\n      template_modalbody: \"\",\n      modal_loading: false,\n      /**\n       * Tables.\n       */\n      table_id: \"table-datas-products\"\n    };\n  },\n  mounted() {\n    this.GetProducts();\n  },\n  watch: {\n    //\n  },\n  computed: {\n    formated_id_modal: {\n      get() {\n        return \"model-style-\" + this.id_modal;\n      }\n    },\n    productId() {\n      if (this.product.id) {\n        return this.product.id;\n      } else {\n        return 0;\n      }\n    }\n  },\n  methods: {\n    GetProducts() {\n      configs.GetProducts().then(result => {\n        this.products = result;\n        this.buildTable();\n      });\n    },\n    open_modal(action) {\n      var self = this;\n      self.modal_title = this.product.title;\n      $(\"#\" + self.formated_id_modal).modal(\"show\");\n      $(\"#\" + self.formated_id_modal).on(\"shown.bs.modal\", function() {\n        $(\"#\" + self.formated_id_modal).off(\"shown.bs.modal\");\n      });\n      switch (action) {\n        case \"gestion_saveurs\":\n          this.template_modalbody = () => import(\"./cmpts/GestionSaveurs.vue\");\n          break;\n\n        case \"gestion_models_sections\":\n          this.template_modalbody = () =>\n            import(\"./cmpts/GestionModelsSection.vue\");\n          break;\n        case \"show_metafields\":\n          this.template_modalbody = () =>\n            import(\"./ComponentsShopify/Products/MetaFields\");\n          break;\n        default:\n          this.template_modalbody = \"\";\n          break;\n      }\n    },\n    buildTable() {\n      var self = this;\n      if (this.datatable.rows) {\n        this.datatable.destroy();\n        $(\"#\" + this.table_id).empty();\n      }\n      this.datatable = $(\"#\" + this.table_id).DataTable({\n        data: self.products,\n        //info: false,\n        order: [[0, \"desc\"]],\n        columns: [\n          { data: \"id\", title: \"# ID \" },\n          { data: \"title\", title: \"Titre\" },\n          {\n            data: \"created_at\",\n            title: \"Date de creation\",\n            render: function(data) {\n              return moment(data).format(\"DD/MM/YYYY Ã  HH:mm\");\n              //return $.fn.dataTable.render.moment(data);\n            },\n            className: \"created-at\"\n          },\n          {\n            className: \"details-control\",\n            orderable: false,\n            data: null,\n            title: \"Action\",\n            defaultContent: `<select class=\" form-control select-action\">\n                  <option value=\"\" selected> Aucun(e)</option>\n                  <option value=\"gestion_saveurs\"> Gerer des saveurs </option>\n                  <option value=\"gestion_models_sections\"> Gestion models sections </option>\n                </select>`\n          }\n          /**\n           * <option value=\"gestion_cat_virtuel\"> Gestions des categories </option>\n           * Permet de d'utiliser l'approche 1, qui bug un peu.\n           * utilise le fichier PageBlogNone\n           */\n        ],\n        language: {\n          url: \"//cdn.datatables.net/plug-ins/1.10.21/i18n/French.json\"\n        }\n      });\n      var table = this.datatable;\n      $(\"#\" + this.table_id).addClass(\"light-table table\");\n      $(\"#\" + this.table_id + \" thead\").addClass(\"thead-light table-header\");\n      /**\n       * On ajoute les colonnes selectionnes en surbriallance\n       */\n      /*\n      $(\"#\" + this.table_id + \" tbody\").on(\"mouseenter\", \"td\", function() {\n        var colIdx = table.cell(this).index().column;\n\n        $(table.cells().nodes()).removeClass(\"highlight\");\n        $(table.column(colIdx).nodes()).addClass(\"highlight\");\n      });\n      /**/\n      /**\n       * On applique l'action\n       */\n      $(\"#\" + this.table_id + \" tbody\").on(\n        \"click\",\n        \"tr .select-action\",\n        function() {\n          var action = $(this).val();\n          var tr = $(this)\n            .parent()\n            .parent();\n          if (action !== \"\") {\n            self.product = table.row(tr).data();\n            //console.log(\"self.product : \", self.product);\n            self.open_modal(action);\n          }\n        }\n      );\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n\n<!--\n //nom du fichier en pascal.\n //<template>\n - le nom des attributs en kebab-case;\n - la valeur des attributs et des variables en camelCase;\n - function en PascalCase\n //props, data\n - variable en camelCase\n //methods\n - variable en PascalCase\n-->\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageProduit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageProduit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageProduit.vue?vue&type=template&id=6d77398e&scoped=true&lang=html&\"\nimport script from \"./PageProduit.vue?vue&type=script&lang=js&\"\nexport * from \"./PageProduit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d77398e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}