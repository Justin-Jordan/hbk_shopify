{"version":3,"sources":["webpack://NutribeShopify/./src/components/App/NutribeShopify/PageProduit.vue?56fa","webpack://NutribeShopify/src/components/App/NutribeShopify/PageProduit.vue","webpack://NutribeShopify/./src/components/App/NutribeShopify/PageProduit.vue?b541","webpack://NutribeShopify/./src/components/App/NutribeShopify/PageProduit.vue"],"names":[],"mappings":";;;;;;;;;;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,6BAA6B,OAAO,mBAAmB,mBAAmB,OAAO,wEAAwE,sBAAsB,iCAAiC,iBAAiB,oCAAoC,qCAAqC,GAAG,YAAY,GAAG,gCAAgC,gDAAgD,mBAAmB,+CAA+C,0CAA0C,aAAa,oFAAoF,yBAAyB,8CAA8C;AACzvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwBA;;;AAGA;AACA;AACA;AACA;;;;;AAGA;AACA;AACA;;AACA;AAEA;AACA,qBADA;AAEA,UACA;AADA,GAFA;AAKA;AACA;AAAA;AAAA;AADA,GALA;AAQA,MARA,kBAQA;AACA;AACA,kBADA;AAEA,iBAFA;AAGA,mBAHA;;AAIA;;;AAGA,6BAPA;AAQA,qBARA;AASA,sBATA;AAUA,4BAVA;AAWA,0BAXA;;AAYA;;;AAGA;AAfA;AAiBA,GA1BA;AA2BA,SA3BA,qBA2BA;AACA;AACA,GA7BA;AA8BA,UACA;AADA,GA9BA;AAiCA;AACA;AACA,SADA,iBACA;AACA;AACA;AAHA,KADA;AAMA,aANA,uBAMA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AAZA,GAjCA;AA+CA;AACA,eADA,yBACA;AAAA;;AACA;AACA;;AACA;AACA,OAHA;AAIA,KANA;AAOA,cAPA,sBAOA,MAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;;AAGA;AACA;AACA;AAAA;AAAA;;AACA;;AAEA;AACA;AAAA,mBACA,oFADA;AAAA;;AAEA;;AACA;AACA;AAAA,mBACA,oFADA;AAAA;;AAEA;;AACA;AACA;AACA;AAfA;AAiBA,KA/BA;AAgCA,cAhCA,wBAgCA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,2BADA;AAEA;AACA,4BAHA;AAIA,kBACA;AAAA;AAAA;AAAA,SADA,EAEA;AAAA;AAAA;AAAA,SAFA,EAGA;AACA,4BADA;AAEA,mCAFA;AAGA;AACA,6DADA,CAEA;AACA,WANA;AAOA;AAPA,SAHA,EAYA;AACA,sCADA;AAEA,0BAFA;AAGA,oBAHA;AAIA,yBAJA;AAKA;AALA;AAWA;;;;;AAvBA,SAJA;AAiCA;AACA;AADA;AAjCA;AAqCA;AACA;AACA;AACA;;;;AAGA;;;;;;;;AAQA;;;;AAGA,2CACA,OADA,EAEA,mBAFA,EAGA;AACA;AACA,yBACA,MADA,GAEA,MAFA;;AAGA;AACA,8CADA,CAEA;;AACA;AACA;AACA,OAbA;AAeA;AA3GA;AA/CA,G;;ACvCmW,CAAgB,0HAAG,EAAC,C;;;;;ACAvQ;AACjD;AACL;;;AAG1D;AACgG;AAChG,gBAAgB,8CAAU;AAC1B,EAAE,kDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,kG","file":"NutribeShopify.umd.8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{attrs:{\"id\":_vm.table_id}}),_c('modal-slot',{attrs:{\"id_modal\":_vm.formated_id_modal,\"show_footer\":true,\"modal_position\":''},scopedSlots:_vm._u([{key:\"modal_header\",fn:function(){return [_c('h5',{staticClass:\"modal-title\",domProps:{\"innerHTML\":_vm._s(_vm.modal_title)}})]},proxy:true}])},[(_vm.modal_loading)?_c('div',{staticClass:\"d-flex justify-content-center p-5\"},[_c('h2',[_c('i',{staticClass:\"fas fa-sync fa-spin text-warning\"})])]):_vm._e(),_c(_vm.template_modalbody,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.modal_loading),expression:\"!modal_loading\"}],tag:\"component\",attrs:{\"entity\":_vm.product,\"type-entity\":\"product\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div>\n    <table :id=\"table_id\"></table>\n    <modal-slot\n      :id_modal=\"formated_id_modal\"\n      :show_footer=\"true\"\n      :modal_position=\"''\"\n    >\n      <template v-slot:modal_header>\n        <h5 v-html=\"modal_title\" class=\"modal-title\"></h5>\n      </template>\n      <div class=\"d-flex justify-content-center p-5\" v-if=\"modal_loading\">\n        <h2><i class=\"fas fa-sync fa-spin text-warning\"> </i></h2>\n      </div>\n      <component\n        v-show=\"!modal_loading\"\n        v-bind:is=\"template_modalbody\"\n        :entity=\"product\"\n        type-entity=\"product\"\n      ></component>\n    </modal-slot>\n  </div>\n</template>\n\n<script>\n/**\n * Jquery doit etre definie (simulation);\n */\nif (window.jQuery) {\n  var $ = window.jQuery;\n}\n/**\n * moment simulation\n */\nif (window.moment) {\n  var moment = window.moment;\n}\nimport configs from \"./configs.js\";\n\nexport default {\n  name: \"PageProduit\",\n  props: {\n    //\n  },\n  components: {\n    \"modal-slot\": () => import(\"../../Modals/ModalSlot.vue\")\n  },\n  data() {\n    return {\n      products: [],\n      product: {},\n      datatable: {},\n      /**\n       * Modal\n       */\n      id_modal: \"action-blog\",\n      modal_title: \"\",\n      modal_action: \"\",\n      template_modalbody: \"\",\n      modal_loading: false,\n      /**\n       * Tables.\n       */\n      table_id: \"table-datas-products\"\n    };\n  },\n  mounted() {\n    this.GetProducts();\n  },\n  watch: {\n    //\n  },\n  computed: {\n    formated_id_modal: {\n      get() {\n        return \"model-style-\" + this.id_modal;\n      }\n    },\n    productId() {\n      if (this.product.id) {\n        return this.product.id;\n      } else {\n        return 0;\n      }\n    }\n  },\n  methods: {\n    GetProducts() {\n      configs.GetProducts().then(result => {\n        this.products = result;\n        this.buildTable();\n      });\n    },\n    open_modal(action) {\n      var self = this;\n      self.modal_title = this.product.title;\n      $(\"#\" + self.formated_id_modal).modal(\"show\");\n      $(\"#\" + self.formated_id_modal).on(\"shown.bs.modal\", function() {\n        $(\"#\" + self.formated_id_modal).off(\"shown.bs.modal\");\n      });\n      switch (action) {\n        case \"gestion_saveurs\":\n          this.template_modalbody = () => import(\"./cmpts/GestionSaveurs.vue\");\n          break;\n\n        case \"gestion_models_sections\":\n          this.template_modalbody = () =>\n            import(\"./cmpts/GestionModelsSection.vue\");\n          break;\n        case \"show_metafields\":\n          this.template_modalbody = () =>\n            import(\"./ComponentsShopify/Products/MetaFields\");\n          break;\n        default:\n          this.template_modalbody = \"\";\n          break;\n      }\n    },\n    buildTable() {\n      var self = this;\n      if (this.datatable.rows) {\n        this.datatable.destroy();\n        $(\"#\" + this.table_id).empty();\n      }\n      this.datatable = $(\"#\" + this.table_id).DataTable({\n        data: self.products,\n        //info: false,\n        order: [[0, \"desc\"]],\n        columns: [\n          { data: \"id\", title: \"# ID \" },\n          { data: \"title\", title: \"Titre\" },\n          {\n            data: \"created_at\",\n            title: \"Date de creation\",\n            render: function(data) {\n              return moment(data).format(\"DD/MM/YYYY Ã  HH:mm\");\n              //return $.fn.dataTable.render.moment(data);\n            },\n            className: \"created-at\"\n          },\n          {\n            className: \"details-control\",\n            orderable: false,\n            data: null,\n            title: \"Action\",\n            defaultContent: `<select class=\" form-control select-action\">\n                  <option value=\"\" selected> Aucun(e)</option>\n                  <option value=\"gestion_saveurs\"> Gerer des saveurs </option>\n                  <option value=\"gestion_models_sections\"> Gestion models sections </option>\n                </select>`\n          }\n          /**\n           * <option value=\"gestion_cat_virtuel\"> Gestions des categories </option>\n           * Permet de d'utiliser l'approche 1, qui bug un peu.\n           * utilise le fichier PageBlogNone\n           */\n        ],\n        language: {\n          url: \"//cdn.datatables.net/plug-ins/1.10.21/i18n/French.json\"\n        }\n      });\n      var table = this.datatable;\n      $(\"#\" + this.table_id).addClass(\"light-table table\");\n      $(\"#\" + this.table_id + \" thead\").addClass(\"thead-light table-header\");\n      /**\n       * On ajoute les colonnes selectionnes en surbriallance\n       */\n      /*\n      $(\"#\" + this.table_id + \" tbody\").on(\"mouseenter\", \"td\", function() {\n        var colIdx = table.cell(this).index().column;\n\n        $(table.cells().nodes()).removeClass(\"highlight\");\n        $(table.column(colIdx).nodes()).addClass(\"highlight\");\n      });\n      /**/\n      /**\n       * On applique l'action\n       */\n      $(\"#\" + this.table_id + \" tbody\").on(\n        \"click\",\n        \"tr .select-action\",\n        function() {\n          var action = $(this).val();\n          var tr = $(this)\n            .parent()\n            .parent();\n          if (action !== \"\") {\n            self.product = table.row(tr).data();\n            //console.log(\"self.product : \", self.product);\n            self.open_modal(action);\n          }\n        }\n      );\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n\n<!--\n //nom du fichier en pascal.\n //<template>\n - le nom des attributs en kebab-case;\n - la valeur des attributs et des variables en camelCase;\n - function en PascalCase\n //props, data\n - variable en camelCase\n //methods\n - variable en PascalCase\n-->\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageProduit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageProduit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageProduit.vue?vue&type=template&id=6d77398e&scoped=true&lang=html&\"\nimport script from \"./PageProduit.vue?vue&type=script&lang=js&\"\nexport * from \"./PageProduit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d77398e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}